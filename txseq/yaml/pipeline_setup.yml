# Pipeline pipeline_setup.py configuration file
# =============================================
#

# the type of input, either "FASTQ" or "BAM"
input_type: FASTQ

# location of the local sqlite3 database
sqlite:
  file: csvdb
  himem: 10000M

input:
  # path to the sample table
  samples: samples.tsv

  # Path to the table of sequencing libraries (required when starting from FASTQ files)
  # Either a path to a tsv file or "None"
  libraries: libraries.tsv

  # Path to the table of BAM files (required when starting from BAM files)
  # Either a path to a tsv file or "None"
  bams: None



fastqc:
  # Path to file with contaminants or "default"
  # if set to "default" an inbuilt default list is used
  contaminants: default

  # Path to file with adaptors or "default"
  # If set to "default" an inbuilt default list is used
  adaptors: default


salmon:
  # the location of the salmon index
  # human e.g. /well/kir/projects/mirror/genomes/salmon/gencode.grch38.v43/salmon_index/
  index: 

  # the location of a GTF file containing the gene models corresponding to those
  # used to build the salmon index.
  geneset: /well/kir/mirror/gencode/human/gencode.v43.annotation.gtf.gz

  quant_options: --seqBias --gcBias --validateMapping --rangeFactorizationBins 4
  
  memory: 12G
  threads: 4

hisat:

  # the location of the hisat index
  # human e.g. /well/kir/projects/mirror/genomes/hisat2/GRCh38.110.genome.tran.dir/
  index: /well/kir/projects/mirror/genomes/hisat2/GRCh38.110.genome.tran.dir/genome_tran

  # the location of a GTF file defining the geneset that was used to build the Hisat2 
  # index
  # e.g. human: /well/kir/projects/mirror/ensembl/GRCh38.110.dir/Homo_sapiens.GRCh38.110.gtf.gz
  geneset: 
  
  # The location of a FASTA file containing the primary assembly. This should match
  # the annotations used to build the Hisat2 index
  # Used by Picard.
  primary_assembly:

  # either "False" or the name of a file in the 'index' directory that contains the
  # output from histat2_extract_splice_sites.py
  splice_sites: genome.ss
  
  # hisat2 options
  options: --dta --score-min L,0.0,-0.2

  memory: 12G
  threads: 4


featureCounts:
      # Number of parallel processes.
    threads: 4

    # featureCounts is run with default options which can be
    # optionally amended here (defaults are generally recommended).
    # Note that strand and paired-end information is set automatically,
    # based on the "paired" and "strandedness" options defined above.
    # Note also that the -B flag is deliberately not set by default.
    options:

picard:

    cmd: java -jar $EBROOTPICARD/picard.jar
    # Note that strand specificity is set automatically according to
    # the general "strand" option defined above.

    validation_stringency: SILENT

    # Number of parallel processes.
    threads: 3

    # Set the total memory allocated across all threads *in megabytes*.
    memory: 8G

    # Additional options to individual picard modules.
    alignmentsummarymetrics_options:
    collectrnaseqmetrics_options:
    estimatelibrarycomplexity_options:
    insertsizemetric_options:
    
      # resource PARAMS["Pallocation
    memory: 200G
    threads: 16


#
primary_assembly:

#
geneset:
